---
id: opencode-vllm
title: Opencode
sidebar_label: 04. Opencode 설정
---

# Opencode

Cursor가 IDE 중심의 대화형 도구라면, **Opencode는 CLI 기반 배치 자동화 도구**다.
vLLM은 로컬 GPU로 모델을 무료 서빙하여 반복 작업의 비용을 0으로 만든다.

---

## 1. Cursor vs Opencode 역할 분리

| | **Cursor** | **Opencode** |
|---|---|---|
| 실행 환경 | IDE (GUI) | 터미널 (CLI) |
| 주요 강점 | 파일 편집, 실시간 수정, 컨텍스트 유지 | 배치 처리, 자동화 파이프라인, Subagent |
| 적합한 작업 | 대화형 설계, 코드 수정 | 반복 Skills 실행, 테스트 자동화 |
| 모델 | Cursor 지원 모델 | OpenAI 호환 API 모두 지원 |

**두 도구를 동시에 사용하면 커버리지가 극대화된다.**
Cursor에서 설계하고 → Opencode로 배치 구현하는 흐름이 일반적이다.

---

## 2. Opencode 설치 및 기본 설정

```bash
# 설치
npm install -g opencode-ai

# 버전 확인
opencode --version
```

### 설정 파일 (`~/.config/opencode/opencode.json`)

:::danger 보안 중시 환경에서의 추천 설정
`opencode.json`, `oh-my-opencode.json` 파일 내 설정을 바꾸면
내부 API(LLM Serving)만 호출하게 됨으로, 보안을 중시한다면 이런 세팅으로 opencode를 사용할 것을 추천한다.
:::

```json
{
  "model": "anthropic/claude-opus-4-6",
  "providers": {
    "openrouter": {
      "apiKey": "sk-or-v1-...",
      "baseURL": "https://openrouter.ai/api/v1"
    },
    "local-vllm": {
      "apiKey": "not-needed",
      "baseURL": "http://localhost:8000/v1"
    }
  }
}
```

### Oh-my-opencode 플러그인 설정

Opencode의 기능을 확장하는 플러그인으로, Sub Agents 기반의 자동화 워크플로우를 손쉽게 구성할 수 있다.

- GitHub: [oh-my-opencode](https://github.com/code-yeongyu/oh-my-opencode)

---

## 3. Skills 파일 구조 (Opencode용)

Opencode에서는 Skills를 **파일로 관리**하고 실행 시 수동으로 로드한다.

```bash
skills/
├── api_dev.md        # API 개발 Skills
├── test_gen.md       # 테스트 생성 Skills
├── code_review.md    # 코드 리뷰 Skills
└── deploy.md         # 배포 Skills
```

### Skills 적용하여 실행

해당 프로젝트 루트에서 cmd를 사용
`opencode` 를 통해 TUI 버전으로 처리 가능

![Opencode TUI](./img/opencode.jpg)

